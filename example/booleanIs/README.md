<!--- gotomd::Auto:: See github.com/dancsecs/gotomd **DO NOT MODIFY** -->

<!---
   Szerszam argument library: szargs.
   Copyright (C) 2024  Leslie Dancsecs

   This program is free software: you can redistribute it and/or modify
   it under the terms of the GNU General Public License as published by
   the Free Software Foundation, either version 3 of the License, or
   (at your option) any later version.

   This program is distributed in the hope that it will be useful,
   but WITHOUT ANY WARRANTY; without even the implied warranty of
   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
   GNU General Public License for more details.

   You should have received a copy of the GNU General Public License
   along with this program.  If not, see <https://www.gnu.org/licenses/>.
-->

# Example Boolean Is


## Overview

This example demos the identification of a single boolean flags.  If found the
matching flag is removed as encountered.  An ambiguous error will be
generated if the flag appears more than once.

It demonstrates the following szargs functions:

<!--- gotomd::Bgn::dcln::./../../New Args.Is Args.Done Args.HasErr Args.Err Args.Usage -->
```go
// New creates a new Args object based in the arguments passed.  The first
// element of the arguments must be the program name.
func New(programDesc string, args []string) *Args

// Is returns true if the flag is present one and only one time.
func (args *Args) Is(flag, desc string) bool

// Done registers an error if there are any remaining arguments.
func (args *Args) Done()

// HasErr returns true if any errors have been encountered or registered.
func (args *Args) HasErr() bool

// Err returns any errors encountered or registered while parsing the
// arguments.
func (args *Args) Err() error

// Usage returns a usage message based on the parsed arguments.
func (args *Args) Usage() string
```
<!--- gotomd::End::dcln::./../../New Args.Is Args.Done Args.HasErr Args.Err Args.Usage -->

## Contents

- [Source (main.go)](#source)
    - [Example: **PASS**: No Arguments](#pass-no-arguments)
    - [Example: **PASS**: Single Long Form](#pass-single-long-form)
    - [Example: **PASS**: Single Short Form](#pass-single-short-form)
    - [Example: **FAIL**: Ambiguous Argument](#fail-ambiguous-argument)
    - [Example: **FAIL**: Extra Unknown Argument](#fail-extra-unknown-argument)

## Source

The source used for this example.  It simply defines a new szargs.Arg object,
then defines a "true" flag which identified the flag's presence in the
argument list.  Finally the Done function is called to insure that no more
arguments exist in the list.

<!--- gotomd::Bgn::file::./main.go -->
```bash
cat ./main.go
```

```go
// Package main implements a simple example of using szargs.
//
//nolint:forbidigo // OK to print to os.Stdout.
package main

import (
    "fmt"
    "os"

    "github.com/dancsecs/szargs"
)

func main() {
    args := szargs.New(
        "A simple utility to demo identifying a boolean flag.",
        os.Args,
    )

    isTrue := args.Is(
        "[-t | --true]", // A short and long form.
        "A single flag indicating true.",
    )

    args.Done() // All arguments should have consumed.

    if args.HasErr() {
        fmt.Fprintf(os.Stderr, "Error: %v\n\n%s\n", args.Err(), args.Usage())
    } else {
        if isTrue {
            fmt.Println("Is true.")
        } else {
            fmt.Println("Is NOT true.")
        }
    }
}
```
<!--- gotomd::End::file::./main.go -->

[Top of Page](#example-boolean-is) --
[Szargs Contents](../../README.md#contents)

### **PASS**: No Arguments

<!--- gotomd::Bgn::run::./. -->
---
```bash
go run .
```

<pre>
Is NOT true.
</pre>
---
<!--- gotomd::End::run::./. -->

[Top of Page](#example-boolean-is) --
[Szargs Contents](../../README.md#contents)

### **PASS**: Single Long Form

<!--- gotomd::Bgn::run::./. --true -->
---
```bash
go run . --true
```

<pre>
Is true.
</pre>
---
<!--- gotomd::End::run::./. --true -->

[Top of Page](#example-boolean-is) --
[Szargs Contents](../../README.md#contents)

### **PASS**: Single Short Form

<!--- gotomd::Bgn::run::./. -t -->
---
```bash
go run . -t
```

<pre>
Is true.
</pre>
---
<!--- gotomd::End::run::./. -t -->

[Top of Page](#example-boolean-is) --
[Szargs Contents](../../README.md#contents)


### **FAIL**: Ambiguous Argument

The error is because a true flag appeared more than once.  A second error is
generated by the ```args.Done()``` statement causing both the error and a
usage statement to be returned.

<!--- gotomd::Bgn::run::./. --true -t -->
---
```bash
go run . --true -t
```

<pre>
Error: ambiguous argument: '[-t | --true]' found 2 times

booleanIs
A simple utility to demo identifying a boolean flag.

Usage: booleanIs [-t | --true]

[-t | --true]
A single flag indicating true.
</pre>
---
<!--- gotomd::End::run::./. --true -t -->

[Top of Page](#example-boolean-is) --
[Szargs Contents](../../README.md#contents)

### **FAIL**: Extra Unknown Argument

The error is generated by the ```args.Done()``` statement causing both the
error and a usage statement to be returned.

<!--- gotomd::Bgn::run::./. --true extraUnknownArgument -->
---
```bash
go run . --true extraUnknownArgument
```

<pre>
Error: unexpected argument: [extraUnknownArgument]

booleanIs
A simple utility to demo identifying a boolean flag.

Usage: booleanIs [-t | --true]

[-t | --true]
A single flag indicating true.
</pre>
---
<!--- gotomd::End::run::./. --true extraUnknownArgument -->

[Top of Page](#example-boolean-is) --
[Szargs Contents](../../README.md#contents)
